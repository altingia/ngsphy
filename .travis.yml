
language: python
python:
    - 2.7
os: linux
dist: trusty
sudo: required
before_install:
    - wget ftp://ftp.gnu.org/gnu/gsl/gsl-latest.tar.gz
    - tar -xvzf gsl*
    - pushd $PWD/gsl-2.4 && ./configure --prefix=$PWD/opt/local && make && make install && make clean popd
    - wget https://www.niehs.nih.gov/research/resources/assets/docs/artsrcmountrainier20160605linuxtgz.tgz
    - tar -zxvf  artsrcmountrainier20160605linuxtgz.tgz
    - pushd $PWD/art_src_MountRainier_Linux/ && ./configure --prefix=$PWD/opt/local && make && popd
    - export PATH=$PATH:$PWD/art_src_MountRainier_Linux/
    - git clone https://github.com/merlyescalona/indelible-ngsphy
    - pushd indelible-ngsphy && make && popd
    - export PATH=$PATH:$PWD/indelible-ngsphy/bin

install:
    - pip install -r requirements.txt
    - python setup.py install
script:
    - scripts/ngsphy.test.sh
